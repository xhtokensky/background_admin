webpackJsonp([34],{"2UfC":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("t/xR"),l={props:{formdata:Object},data:()=>({rules:{imgUrlKey1:[{required:!0,message:"请上传",trigger:"change"}],selectId1:[{required:!0,message:"请选择",trigger:"change"}],selectId2:[{required:!0,message:"请选择",trigger:"change"}],selectId3:[{required:!0,message:"请选择",trigger:"change"}],selectId2:[{required:!0,message:"请选择",trigger:"change"}],selectId5:[{required:!0,message:"请选择",trigger:"change"}],model1:[{required:!0,message:"请输入",trigger:"blur"}],model2:[{required:!0,message:"请输入",trigger:"blur"}],model2a:[{required:!0,message:"请输入",trigger:"blur"}],model3:[{required:!0,message:"请输入",trigger:"blur"}],model4:[{required:!0,message:"请输入",trigger:"blur"}],model5:[{required:!0,message:"请输入",trigger:"blur"}],taModel1:[{required:!0,message:"请输入",trigger:"blur"}]}}),computed:{uploadUrl:function(){return this.$qiniu+"uploadFile"}},methods:{cancelEv(){this.$emit("cancelEv_a",self.formdata)},submitForm(e){let a=this;this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;a.$emit("submit_a",a.formdata)})},handleAvatarSuccess(e,a){"0"==e.code?(this.formdata.imgUrl1=e.content.imgUrl,this.formdata.imgUrlKey1=e.content.imgKey,this.$message.success("上传成功")):this.$message.error(e.msg)},handleRemove(){this.formdata.imgUrl1=""},beforeAvatarUpload(e){const a="image/jpeg"===e.type||"image/png"===e.type,t=e.size/1024/1024<5;return a||this.$message.error("上传头像图片只能是 JPG PNG 格式!"),t||this.$message.error("上传头像图片大小不能超过 5MB!"),a&&t}}},o={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"view formView"},[t("div",{},[t("el-form",{ref:"formdata",staticClass:"demo-ruleForm",attrs:{model:e.formdata,rules:e.rules,"label-width":"100px"}},[t("div",{staticClass:"dpadl"},[e.formdata.selectLabel1?t("el-form-item",{attrs:{label:e.formdata.selectLabel1,prop:"selectId1"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formdata.selectId1,callback:function(a){e.$set(e.formdata,"selectId1",a)},expression:"formdata.selectId1"}},e._l(e.formdata.selectArr1,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.keyId}})}),1)],1):e._e(),e._v(" "),e.formdata.selectLabel2?t("el-form-item",{attrs:{label:e.formdata.selectLabel2,prop:"selectId2"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formdata.selectId2,callback:function(a){e.$set(e.formdata,"selectId2",a)},expression:"formdata.selectId2"}},e._l(e.formdata.selectArr2,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.dictionaryId}})}),1)],1):e._e(),e._v(" "),e.formdata.label1?t("el-form-item",{attrs:{label:e.formdata.label1,prop:"model1"}},[t("el-input",{model:{value:e.formdata.model1,callback:function(a){e.$set(e.formdata,"model1",a)},expression:"formdata.model1"}})],1):e._e(),e._v(" "),e.formdata.label2?t("el-form-item",{attrs:{label:e.formdata.label2,prop:"model2"}},[t("el-input",{model:{value:e.formdata.model2,callback:function(a){e.$set(e.formdata,"model2",a)},expression:"formdata.model2"}})],1):e._e(),e._v(" "),e.formdata.label2a?t("el-form-item",{attrs:{label:e.formdata.label2a,prop:"model2a"}},[t("el-input",{model:{value:e.formdata.model2a,callback:function(a){e.$set(e.formdata,"model2a",a)},expression:"formdata.model2a"}})],1):e._e(),e._v(" "),e.formdata.label3?t("el-form-item",{attrs:{label:e.formdata.label3,prop:"model3"}},[t("el-input",{model:{value:e.formdata.model3,callback:function(a){e.$set(e.formdata,"model3",a)},expression:"formdata.model3"}})],1):e._e(),e._v(" "),e.formdata.label4?t("el-form-item",{attrs:{label:e.formdata.label4,prop:"model4"}},[t("el-input",{model:{value:e.formdata.model4,callback:function(a){e.$set(e.formdata,"model4",a)},expression:"formdata.model4"}})],1):e._e(),e._v(" "),e.formdata.label5?t("el-form-item",{attrs:{label:e.formdata.label5,prop:"model5"}},[t("el-input",{attrs:{placeholder:"数字大的在前"},model:{value:e.formdata.model5,callback:function(a){e.$set(e.formdata,"model5",a)},expression:"formdata.model5"}})],1):e._e(),e._v(" "),e.formdata.label6?t("el-form-item",{attrs:{label:e.formdata.label6,prop:"model6"}},[t("el-input",{attrs:{placeholder:"不填或0代表不限量"},model:{value:e.formdata.model6,callback:function(a){e.$set(e.formdata,"model6",a)},expression:"formdata.model6"}})],1):e._e(),e._v(" "),e.formdata.taLabel1?t("el-form-item",{attrs:{label:e.formdata.taLabel1,prop:"taModel1"}},[t("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.formdata.taModel1,callback:function(a){e.$set(e.formdata,"taModel1",a)},expression:"formdata.taModel1"}})],1):e._e(),e._v(" "),e.formdata.selectLabel3?t("el-form-item",{attrs:{label:e.formdata.selectLabel3,prop:"selectId3"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formdata.selectId3,callback:function(a){e.$set(e.formdata,"selectId3",a)},expression:"formdata.selectId3"}},e._l(e.formdata.selectArr3,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.dictionaryId}})}),1)],1):e._e(),e._v(" "),t("div",{staticClass:" dmb50",staticStyle:{"margin-left":"1.7rem"}},[t("el-button",{staticClass:"submitBtn",attrs:{type:"info"},on:{click:e.cancelEv}},[e._v("取消")]),e._v(" "),e.formdata.isDetail?t("el-button",{staticClass:"submitBtn",staticStyle:{"margin-left":"1.5rem"},attrs:{disabled:"",type:"primary"},on:{click:function(a){return e.submitForm("formdata")}}},[e._v("下一步")]):t("el-button",{staticClass:"submitBtn",staticStyle:{"margin-left":"1.5rem"},attrs:{type:"primary"},on:{click:function(a){return e.submitForm("formdata")}}},[e._v("保存")])],1)],1)])],1)])},staticRenderFns:[]};var s=t("C7Lr")(l,o,!1,function(e){t("eUF3")},"data-v-0501343e",null).exports,m={components:{position:r.a,sl_form:s},data:()=>({isEduit:0,isDetail:0,searchData:{title:"记录册列表"},formdata1:{imgLabel1:"缩略图：",imgModel1:"",imgUrl1:"",imgUrlKey1:"",selectLabel1:"分类:",selectArr1:[],selectId1:"",selectLabel2:"是否上架:",selectArr2:[{name:"是",dictionaryId:1},{name:"否",dictionaryId:0}],selectId2:"",label1:"标题名:",model1:"",label2:"价格:",model2:"",label2a:"每日电费:",model2a:"",label3:"库存:",model3:"",label4:"运行周期:",model4:"",label5:"优先级:",model5:"",label6:"每人限购:",model6:"",taLabel1:"简介",taModel1:""}}),mounted(){let e=this;e.getSelist(),e.$route.params&&Object.keys(e.$route.params).length>0?(e.isEduit=1,e.formdata1.selectId1=e.$route.params.hashrateCategory,e.formdata1.selectId2=e.$route.params.status,e.formdata1.model1=e.$route.params.title,e.formdata1.model2=e.$route.params.price,e.formdata1.model2a=e.$route.params.electricBill,e.formdata1.model3=e.$route.params.inventory,e.formdata1.model4=e.$route.params.runCycle,e.formdata1.model5=e.$route.params.sort,e.formdata1.model6=e.$route.params.restriction,e.formdata1.taModel1=e.$route.params.intro,e.formdata1.isDetail=e.$route.params.isDetail?e.$route.params.isDetail:""):e.isEduit=0},methods:{getSelist(){let e=this,a=this.$api+"hashrate/category/datagrid";e.$axios.get(a).then(a=>{a.data&&0==a.data.code?e.formdata1.selectArr1=a.data.content.rows:this.$message({message:a.data.msg,type:"error"})})},cancelEv_a(e){this.$router.push({path:"slContract"})},submit_a(e){let a=this,t=a.$api+"hashrate/transaction/edit",r={};r.hashrateCategory=e.selectId1,r.status=parseInt(e.selectId2),r.title=e.model1,r.price=parseInt(e.model2),r.electricBill=parseInt(e.model2a),r.inventory=parseInt(e.model3),r.runCycle=parseInt(e.model4),r.sort=parseInt(e.model5),r.restriction=parseInt(e.model6),r.intro=e.taModel1,1==a.isEduit?(r.keyId=a.$route.params.keyId,a.$axios.post(t,r).then(e=>{e.data&&0==e.data.code?(a.$message({message:e.data.msg,type:"success"}),a.$router.push({path:"slContract"})):this.$message({message:e.data.msg,type:"error"})})):a.$axios.post(t,r).then(e=>{e.data&&0==e.data.code?(a.$message({message:e.data.msg,type:"success"}),a.$router.push({path:"slContract"})):this.$message({message:e.data.msg,type:"error"})})}}},d={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"vc uservc"},[a("position",{attrs:{title:"算力合约管理 > 算力合约"}}),this._v(" "),a("div",{staticClass:"ctt"},[a("sl_form",{attrs:{formdata:this.formdata1},on:{cancelEv_a:this.cancelEv_a,submit_a:this.submit_a}})],1)],1)},staticRenderFns:[]};var i=t("C7Lr")(m,d,!1,function(e){t("n6LG")},"data-v-7668066a",null);a.default=i.exports},eUF3:function(e,a){},n6LG:function(e,a){}});