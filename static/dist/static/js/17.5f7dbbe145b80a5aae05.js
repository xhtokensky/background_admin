webpackJsonp([17],{DykA:function(e,t){},Y2ta:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("t/xR"),r={props:{data:Array,titles:Array},data:()=>({}),computed:{permiss(){return this.$store.getters.permiss},addIf(){let e=this.permiss[`${this.$route.name}`];return console.log(this.permiss),e}},methods:{seller(e){this.$emit("seller",e)},buyer(e){this.$emit("buyer",e)},role_detail_ev(e){this.$emit("role_detail_ev",e)},role_eduit_ev(e){this.$emit("tb_eduit_ev",e)},role_delete_ev(e){let t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{t.$emit("tb_delete_ev",e)}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},setFlex:e=>3==e||4==e||5==e||6==e||7==e||8==e||9==e||10==e||11==e||12==e||16==e?"dflex2":"dflex1"}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table table1 tableOtcOrder tb_sroll_view"},[a("div",{staticClass:"tb_sroll_ctt"},[a("div",{staticClass:"table_headv ddspflex_flexRow_jstCenter_aliCenter"},e._l(e.titles,function(t,s){return a("div",{key:s,class:e.setFlex(s)},[e._v(e._s(t.text))])}),0),e._v(" "),a("div",{staticClass:"table_body"},e._l(e.data,function(t,s){return a("div",{key:s,staticClass:"table_row"},[a("div",[a("div",{staticClass:" ddspflex_flexRow_jstCenter_aliCenter"},[a("div",{staticClass:"dflex1"},[e._v(e._s(s+1))]),e._v(" "),e._m(0,!0),e._v(" "),0==t.payType?a("div",{staticClass:"dflex1"},[e._v("0")]):e._e(),e._v(" "),1==t.payType?a("div",{staticClass:"dflex1"},[e._v("1")]):e._e(),e._v(" "),2==t.payType?a("div",{staticClass:"dflex1"},[e._v("2")]):e._e(),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(t.vendeePhone))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(t.vendorPhone))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(t.unitPrice))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(t.quantity))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(t.totalAmount))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(t.orderId))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(e._f("m_YYYYMMDD_HHmmss")(t.buyOrderTime)))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(e._f("m_YYYYMMDD_HHmmss")(t.payOrderTime)))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(e._f("m_YYYYMMDD_HHmmss")(t.appealTime)))]),e._v(" "),a("div",{staticClass:"dflex2"},[e._v(e._s(e._f("m_YYYYMMDD_HHmmss")(t.upVoucherTime)))]),e._v(" "),a("div",{staticClass:"dflex1 eduitBtn dcp",on:{click:function(t){return e.seller(s)}}},[e._v("查看")]),e._v(" "),a("div",{staticClass:"dflex1 eduitBtn dcp",on:{click:function(t){return e.buyer(s)}}},[e._v("查看")]),e._v(" "),0==t.status?a("div",{staticClass:"dflex1"},[e._v("未处理")]):e._e(),e._v(" "),1==t.status?a("div",{staticClass:"dflex1"},[e._v("确认放币")]):e._e(),e._v(" "),2==t.status?a("div",{staticClass:"dflex1"},[e._v("取消订单")]):e._e(),e._v(" "),a("div",{staticClass:"dflex2"},[e.addIf&&e.addIf.examine&&"examine"==e.addIf.examine?a("span",{staticClass:"tb_ope_btn eduit eduitBtn dcp",on:{click:function(t){return e.role_eduit_ev(s)}}},[e._v("操作")]):a("span",{staticClass:"tb_ope_btn eduit eduitBtn"},[e._v("---")])])])])])}),0)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dflex1"},[t("input",{attrs:{type:"checkbox"}})])}]};var d=a("C7Lr")(r,i,!1,function(e){a("DykA")},"data-v-7ae9674c",null).exports,l=a("Mu8Y"),o=a("D2g7"),n={components:{position:s.a,tb_complaint:d,dialogCom:l.a,searchV:o.a},data:()=>({dialogData:{show:!1,btn2Text:"确定"},dialogDataSeller:{show:!1},dialogDataBuyer:{show:!0},formData:{selectLabel1:"操作",selectArr1:[{label:"确认放币",value:1},{label:"取消订单",value:2}],selectModel1:""},formDataSeller:{imgLabel1:"申诉",imgArr1:[],text:""},formDataBuyer:{imgLabel1:"凭证",imgArr1:[],text:""},dataCount:null,testShow:0,data:[],carID:null,titles:[{text:"序号"},{text:"多选"},{text:"支付方式"},{text:"买方手机号"},{text:"卖方手机号"},{text:"单价(CNY)"},{text:"数量"},{text:"总额(CNY)"},{text:"订单号"},{text:"下单时间"},{text:"付款时间"},{text:"申诉时间"},{text:"上传凭证时间"},{text:"卖方申诉"},{text:"买方凭证"},{text:"处理结果"},{text:"操作"}],dialog:{show:!1,title:"",option:"edit"},RoleList:[],pageIndex:1,pageSize:10,userId:"",nickName:"",searchData:{label1:"买方手机号",model1:"",label2:"卖方手机号",model2:"",label3:"订单号",model3:"",timeLabel1:"下单时间",timeModel1:"",timeLabel2:"-",timeModel2:""},searchParam:{vendeePhone:"",vendorPhone:"",orderId:"",orderStatus:"",startTime:"",endTime:""}}),mounted(){this.getList()},methods:{reset(){this.searchData.model1="",this.searchData.model2="",this.searchData.model3="",this.searchData.selectId1="",this.searchData.timeModel1="",this.searchData.timeModel2="",this.searchParam.vendeePhone="",this.searchParam.vendorPhone="",this.searchParam.orderId="",this.searchParam.orderStatus="",this.searchParam.startTime="",this.searchParam.endTime="",this.getList()},searchUpdate(e){this.searchParam.vendeePhone=e.model1?e.model1:"",this.searchParam.vendorPhone=e.model2?e.model2:"",this.searchParam.orderId=e.model3?e.model3:"",this.searchParam.orderStatus=e.selectId1?e.selectId1:"",this.searchParam.startTime=e.timeModel1?e.timeModel1.getTime()/1e3:"",this.searchParam.endTime=e.timeModel2?e.timeModel2.getTime()/1e3:"",this.getList()},role_detail_ev(e){this.carID=this.data[e].carId,this.getDetail()},tb_eduit_ev(e){this.formData.index=e,this.dialogData.show=!0},seller(e){this.formDataSeller.index=e,this.formDataSeller.imgArr1=this.data[e].vendorVouchers,this.formDataSeller.text=this.data[e].vendorCause,this.dialogDataSeller.show=!0},buyer(e){this.formDataBuyer.index=e,this.formDataBuyer.imgArr1=this.data[e].vendeeVouchers,this.formDataBuyer.text=this.data[e].vendeeRemark,this.dialogDataBuyer.show=!0},submitForm_dialogCom(e){let t=this,a=`${t.$api}otc/appeal/examine`,s={keyId:t.data[e.index].keyId,status:e.selectModel1};t.$axios.post(a,s).then(e=>{e.data&&0==e.data.code?(t.dialogData.show=!1,t.$message.success(e.data.msg)):t.dialogData.show=!1})},submitForm_dialogComSeller(){let e=this,t=`${e.$api}otc/appeal/examine`,a={keyId:e.data[form.index].keyId,status:form.selectModel1};e.$axios.post(t,a).then(t=>{t.data&&0==t.data.code?(e.dialogData.show=!1,e.$message.success(t.data.msg)):e.dialogData.show=!1})},submitForm_dialogComBuyer(){let e=this,t=`${e.$api}otc/appeal/examine`,a={keyId:e.data[form.index].keyId,status:form.selectModel1};e.$axios.post(t,a).then(t=>{t.data&&0==t.data.code?(e.dialogData.show=!1,e.$message.success(t.data.msg)):e.dialogData.show=!1})},tb_delete_ev(e){let t=this,a=this.$url_head+"car/car?carId="+t.data[e].carId;t.$axios.delete(a).then(e=>{e.data&&0==e.data.resultCode?(t.$message({message:"删除成功",type:"success"}),t.getList()):t.$message({message:e.data.result,type:"error"})})},getList(){let e=this,t=`${e.$otc}appeal/datagrid?offset=${e.pageIndex}&limit=${e.pageSize}`;t=`${t}&vendeePhone=${e.searchParam.vendeePhone}&vendorPhone=${e.searchParam.vendorPhone}&orderId=${e.searchParam.orderId}&startTime=${e.searchParam.startTime}&endTime=${e.searchParam.endTime}`,e.$axios.get(t).then(t=>{t.data&&0==t.data.code?(e.data=t.data.content.rows,e.dataCount=t.data.content.total):this.$message({message:t.data.result,type:"error"})})},getDetail(){let e=this,t=`${e.$url_head}car/car?pageIndex=${e.pageIndex}&pageSize=${e.pageSize}`;e.carID&&(t=`${t}&carId=${e.carID}`),e.$axios.get(t).then(t=>{t.data&&0==t.data.resultCode?(e.data=t.data.content.car,e.data.isDetail=1,e.$router.push({name:"carAdd",params:e.data})):this.$message({message:t.data.result,type:"error"})})},getSelist(){let e=this,t=this.$url_head+"car/carNorms";e.$axios.get(t).then(t=>{t.data&&0==t.data.resultCode?e.searchData.selectArr1=t.data.content.data:this.$message({message:t.data.result,type:"error"})});let a=this.$url_head+"car/carLoc";e.$axios.get(a).then(t=>{t.data&&0==t.data.resultCode?e.searchData.selectArr2=t.data.content.data:this.$message({message:t.data.result,type:"error"})});let s=this.$url_head+"car/carPrincipal";e.$axios.get(s).then(t=>{if(t.data&&0==t.data.resultCode){let a=t.data.content.data;a.forEach((e,t)=>{e.employeeId&&(e.dictionaryId=e.employeeId)}),e.searchData.selectArr3=a}else this.$message({message:t.data.result,type:"error"})})},handleAdd(){this.$router.push({path:"carAdd"})},handleCurrentChange(e){this.pageIndex=e,this.getList()},handleSizeChange(e){this.pageIndex=1,this.pageSize=e,this.getList()}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vc uservc"},[a("position",{attrs:{title:"OTC > 申诉列表"}}),e._v(" "),a("div",{staticClass:"ctt"},[a("searchV",{attrs:{searchData:e.searchData},on:{update:e.searchUpdate,reset:e.reset,handleAdd:e.handleAdd}}),e._v(" "),a("div",{staticClass:"userMngView dafter_ctt_dspBlock_clearBoth"},[a("tb_complaint",{attrs:{data:e.data,titles:e.titles},on:{role_detail_ev:e.role_detail_ev,tb_eduit_ev:e.tb_eduit_ev,tb_delete_ev:e.tb_delete_ev,seller:e.seller,buyer:e.buyer}}),e._v(" "),a("div",{staticClass:"pageV dfr"},[a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[10,50,100,200,300,400],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.dataCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.pageIndex=t},"update:current-page":function(t){e.pageIndex=t}}})],1)],1),e._v(" "),a("dialogCom",{attrs:{dialogData:e.dialogData,formData:e.formData},on:{submitForm:e.submitForm_dialogCom}}),e._v(" "),e.formDataSeller.imgArr1&&e.formDataSeller.imgArr1.length>0?a("dialogCom",{attrs:{dialogData:e.dialogDataSeller,formData:e.formDataSeller},on:{submitForm:e.submitForm_dialogComSeller}}):e._e(),e._v(" "),e.formDataBuyer.imgArr1&&e.formDataBuyer.imgArr1.length>0?a("dialogCom",{attrs:{dialogData:e.dialogDataBuyer,formData:e.formDataBuyer},on:{submitForm:e.submitForm_dialogComBuyer}}):e._e()],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(n,c,!1,function(e){a("Z9aS")},"data-v-410cc567",null);t.default=m.exports},Z9aS:function(e,t){}});