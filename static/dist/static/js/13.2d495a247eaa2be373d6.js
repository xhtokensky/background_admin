webpackJsonp([13],{Rm4R:function(e,a){},XrBp:function(e,a){},e7Py:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("t/xR"),l={props:{formdata:Object},data:()=>({rules:{imgUrlKey1:[{required:!0,message:"请上传",trigger:"change"}],selectId1:[{required:!0,message:"请选择",trigger:"change"}],selectId2:[{required:!0,message:"请选择",trigger:"change"}],selectId3:[{required:!0,message:"请选择",trigger:"change"}],selectId2:[{required:!0,message:"请选择",trigger:"change"}],selectId5:[{required:!0,message:"请选择",trigger:"change"}],model1:[{required:!0,message:"请输入",trigger:"blur"}],model2:[{required:!0,message:"请输入",trigger:"blur"}],model3:[{required:!0,message:"请输入",trigger:"blur"}],model4:[{required:!0,message:"请输入",trigger:"blur"}],model5:[{required:!0,message:"请输入",trigger:"blur"}],taModel1:[{required:!0,message:"请输入",trigger:"blur"}]}}),computed:{uploadUrl:function(){return this.$qiniu+"uploadFile"}},methods:{cancelEv(){this.$emit("cancelEv_a",self.formdata)},submitForm(e){let a=this;this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;a.$emit("submit_a",a.formdata)})},handleAvatarSuccess(e,a){let t=this;"0"==e.code?(t.formdata.imgUrl1=e.content.imgUrl,t.formdata.imgUrlKey1=e.content.imgKey,t.$message.success(e.msg)):t.$message.error(e.msg)},handleRemove(){this.formdata.imgUrl1=""},beforeAvatarUpload(e){const a="image/jpeg"===e.type||"image/png"===e.type,t=e.size/1024/1024<5;return a||this.$message.error("上传头像图片只能是 JPG PNG 格式!"),t||this.$message.error("上传头像图片大小不能超过 5MB!"),a&&t}}},s={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"view formView"},[t("div",{},[t("el-form",{ref:"formdata",staticClass:"demo-ruleForm",attrs:{model:e.formdata,rules:e.rules,"label-width":"100px"}},[t("div",{staticClass:"dpadl"},[e.formdata.imgLabel1?t("el-form-item",{attrs:{label:e.formdata.imgLabel1,prop:"imgUrlKey1"}},[t("el-upload",{staticClass:"upload-demo idCard",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"before-upload":e.beforeAvatarUpload}},[e.formdata.imgUrl1?t("img",{staticClass:"idCardImg avatar",attrs:{src:e.formdata.imgUrl1}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过5M")])])],1):e._e(),e._v(" "),e.formdata.selectLabel1?t("el-form-item",{attrs:{label:e.formdata.selectLabel1,prop:"selectId1"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formdata.selectId1,callback:function(a){e.$set(e.formdata,"selectId1",a)},expression:"formdata.selectId1"}},e._l(e.formdata.selectArr1,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.dictionaryId}})}),1)],1):e._e(),e._v(" "),e.formdata.selectLabel2?t("el-form-item",{attrs:{label:e.formdata.selectLabel2,prop:"selectId2"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formdata.selectId2,callback:function(a){e.$set(e.formdata,"selectId2",a)},expression:"formdata.selectId2"}},e._l(e.formdata.selectArr2,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.dictionaryId}})}),1)],1):e._e(),e._v(" "),e.formdata.label1?t("el-form-item",{attrs:{label:e.formdata.label1,prop:"model1"}},[t("el-input",{model:{value:e.formdata.model1,callback:function(a){e.$set(e.formdata,"model1",a)},expression:"formdata.model1"}})],1):e._e(),e._v(" "),e.formdata.label2?t("el-form-item",{attrs:{label:e.formdata.label2,prop:"model2"}},[t("el-input",{model:{value:e.formdata.model2,callback:function(a){e.$set(e.formdata,"model2",a)},expression:"formdata.model2"}})],1):e._e(),e._v(" "),e.formdata.label3?t("el-form-item",{attrs:{label:e.formdata.label3,prop:"model3"}},[t("el-input",{model:{value:e.formdata.model3,callback:function(a){e.$set(e.formdata,"model3",a)},expression:"formdata.model3"}})],1):e._e(),e._v(" "),e.formdata.label4?t("el-form-item",{attrs:{label:e.formdata.label4,prop:"model4"}},[t("el-input",{model:{value:e.formdata.model4,callback:function(a){e.$set(e.formdata,"model4",a)},expression:"formdata.model4"}})],1):e._e(),e._v(" "),e.formdata.label5?t("el-form-item",{attrs:{label:e.formdata.label5,prop:"model5"}},[t("el-input",{attrs:{placeholder:"数字大的在前"},model:{value:e.formdata.model5,callback:function(a){e.$set(e.formdata,"model5",a)},expression:"formdata.model5"}})],1):e._e(),e._v(" "),e.formdata.label6?t("el-form-item",{attrs:{label:e.formdata.label6,prop:"model6"}},[t("el-input",{attrs:{placeholder:"不填或0代表不限量"},model:{value:e.formdata.model6,callback:function(a){e.$set(e.formdata,"model6",a)},expression:"formdata.model6"}})],1):e._e(),e._v(" "),e.formdata.taLabel1?t("el-form-item",{attrs:{label:e.formdata.taLabel1,prop:"taModel1"}},[t("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.formdata.taModel1,callback:function(a){e.$set(e.formdata,"taModel1",a)},expression:"formdata.taModel1"}})],1):e._e(),e._v(" "),e.formdata.selectLabel3?t("el-form-item",{attrs:{label:e.formdata.selectLabel3,prop:"selectId3"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formdata.selectId3,callback:function(a){e.$set(e.formdata,"selectId3",a)},expression:"formdata.selectId3"}},e._l(e.formdata.selectArr3,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.dictionaryId}})}),1)],1):e._e(),e._v(" "),t("div",{staticClass:" dmb50",staticStyle:{"margin-left":"1.7rem"}},[t("el-button",{staticClass:"submitBtn",attrs:{type:"info"},on:{click:e.cancelEv}},[e._v("取消")]),e._v(" "),e.formdata.isDetail?t("el-button",{staticClass:"submitBtn",staticStyle:{"margin-left":"1.5rem"},attrs:{disabled:"",type:"primary"},on:{click:function(a){return e.submitForm("formdata")}}},[e._v("下一步")]):t("el-button",{staticClass:"submitBtn",staticStyle:{"margin-left":"1.5rem"},attrs:{type:"primary"},on:{click:function(a){return e.submitForm("formdata")}}},[e._v("保存")])],1)],1)])],1)])},staticRenderFns:[]};var o=t("C7Lr")(l,s,!1,function(e){t("XrBp")},"data-v-bc88610c",null).exports,m={components:{position:r.a,sl_form_type:o},data:()=>({isEduit:0,isDetail:0,searchData:{title:"记录册列表"},formdata1:{imgLabel1:"缩略图：",imgModel1:"",imgUrl1:"",imgUrlKey1:"",selectLabel3:"状态:",selectArr3:[{name:"是",dictionaryId:1},{name:"否",dictionaryId:0}],selectId3:null,label1:"类别名称",model1:"",label2:"算力单位",model2:""}}),mounted(){let e=this;e.$route.params&&Object.keys(e.$route.params).length>0?(e.isEduit=1,e.formdata1.imgUrl1=e.$route.params.imgUrl,e.formdata1.imgUrlKey1=e.$route.params.imgKey,e.formdata1.model1=e.$route.params.name?e.$route.params.name:null,e.formdata1.model2=e.$route.params.unit?e.$route.params.unit:null,e.formdata1.selectId3=parseInt(e.$route.params.status)):e.isEduit=0},methods:{cancelEv_a(e){this.$router.push({path:"slContractType"})},submit_a(e){let a=this,t=a.$api+"hashrate/category/edit",r={};r.imgKey=e.imgUrlKey1,r.status=e.selectId3,r.name=e.model1,r.unit=e.model2,1==a.isEduit?(r.keyId=a.$route.params.keyId,a.$axios.post(t,r).then(e=>{e.data&&0==e.data.code&&(a.$message({message:e.data.msg,type:"success"}),a.$router.push({path:"slContractType"}))})):a.$axios.post(t,r).then(e=>{e.data&&0==e.data.code&&(a.$message({message:e.data.msg,type:"success"}),a.$router.push({path:"slContractType"}))})}}},d={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"vc uservc"},[a("position",{attrs:{title:"算力合约管理 > 算力合约"}}),this._v(" "),a("div",{staticClass:"ctt"},[a("sl_form_type",{attrs:{formdata:this.formdata1},on:{cancelEv_a:this.cancelEv_a,submit_a:this.submit_a}})],1)],1)},staticRenderFns:[]};var i=t("C7Lr")(m,d,!1,function(e){t("Rm4R")},"data-v-533631d6",null);a.default=i.exports}});