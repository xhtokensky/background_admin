webpackJsonp([31],{LBNN:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("t/xR"),s={props:{formdata:Object},data:()=>({rules:{imgUrlKey1:[{required:!0,message:"请上传",trigger:"change"}],selectId1:[{required:!0,message:"请选择",trigger:"change"}],selectId2:[{required:!0,message:"请选择",trigger:"change"}],selectId3:[{required:!0,message:"请选择",trigger:"change"}],selectId4:[{required:!0,message:"请选择",trigger:"change"}],selectId5:[{required:!0,message:"请选择",trigger:"change"}],model1:[{required:!0,message:"请输入",trigger:"blur"}],model2:[{required:!0,message:"请输入",trigger:"blur"}],model3:[{required:!0,message:"请输入",trigger:"blur"}],labelModel4:[{required:!0,message:"请输入",trigger:"blur"}],state1:[{required:!0,message:"请输入",trigger:"blur"}]}}),computed:{uploadUrl:function(){return this.$qiniu+"uploadFile"}},methods:{cancelEv(){this.$emit("cancelEv_a",self.formdata)},submitForm(e){let a=this;this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;a.$emit("submit_a",a.formdata)})},handleAvatarSuccess(e,a){let t=this;0==e.code&&(t.formdata.imgUrl1=e.content.imgUrl,t.formdata.imgUrlKey1=e.content.imgKey,t.formdata.model1=e.content.imgUrl,t.$message.success("上传成功"))},handleRemove(){this.formdata.imgUrl1=""},beforeAvatarUpload(e){const a="image/jpeg"===e.type||"image/png"===e.type,t=e.size/1024/1024<5;return a||this.$message.error("上传头像图片只能是 JPG PNG 格式!"),t||this.$message.error("上传头像图片大小不能超过 5MB!"),a&&t}}},l={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"view formView"},[t("div",{},[t("el-form",{ref:"formdata",staticClass:"demo-ruleForm",attrs:{model:e.formdata,rules:e.rules,"label-width":"100px"}},[t("div",{staticClass:"dpadl"},[e.formdata.imgLabel1?t("el-form-item",{attrs:{label:e.formdata.imgLabel1,prop:"imgUrlKey1"}},[t("el-upload",{staticClass:"upload-demo idCard",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"before-upload":e.beforeAvatarUpload}},[e.formdata.imgUrl1?t("img",{staticClass:"idCardImg avatar",attrs:{src:e.formdata.imgUrl1}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过5M")])])],1):e._e(),e._v(" "),e.formdata.label1?t("el-form-item",{attrs:{label:e.formdata.label1,prop:"model1"}},[t("el-input",{attrs:{disabled:!0},model:{value:e.formdata.model1,callback:function(a){e.$set(e.formdata,"model1",a)},expression:"formdata.model1"}})],1):e._e(),e._v(" "),e.formdata.label2?t("el-form-item",{attrs:{label:e.formdata.label2,prop:"model2"}},[t("el-input",{model:{value:e.formdata.model2,callback:function(a){e.$set(e.formdata,"model2",a)},expression:"formdata.model2"}})],1):e._e(),e._v(" "),e.formdata.label3?t("el-form-item",{attrs:{label:e.formdata.label3,prop:"model3"}},[t("el-input",{attrs:{placeholder:"数字大的排列在前"},model:{value:e.formdata.model3,callback:function(a){e.$set(e.formdata,"model3",a)},expression:"formdata.model3"}})],1):e._e(),e._v(" "),e.formdata.selectLabel1?t("el-form-item",{attrs:{label:e.formdata.selectLabel1,prop:"selectId1"}},[t("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formdata.selectId1,callback:function(a){e.$set(e.formdata,"selectId1",a)},expression:"formdata.selectId1"}},e._l(e.formdata.selectArr1,function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.dictionaryId}})}),1)],1):e._e(),e._v(" "),t("el-form-item",{attrs:{label:"状态:",prop:"state1"}},[t("el-radio-group",{model:{value:e.formdata.state1,callback:function(a){e.$set(e.formdata,"state1",a)},expression:"formdata.state1"}},[t("el-radio",{attrs:{label:1}},[e._v("启用")]),e._v(" "),t("el-radio",{attrs:{label:0}},[e._v("停用")])],1)],1),e._v(" "),t("div",{staticClass:"addBntWrap dmb50"},[t("el-button",{staticClass:" btn_cancel",attrs:{type:"info"},on:{click:e.cancelEv}},[e._v("取消")]),e._v(" "),e.formdata.isDetail?t("el-button",{staticClass:"btn_submit",attrs:{disabled:"",type:"primary"},on:{click:function(a){return e.submitForm("formdata")}}},[e._v("提交")]):t("el-button",{staticClass:"btn_submit",attrs:{type:"primary"},on:{click:function(a){return e.submitForm("formdata")}}},[e._v("提交")])],1)],1)])],1)])},staticRenderFns:[]};var o=t("C7Lr")(s,l,!1,function(e){t("ikgF")},"data-v-5a1e49f8",null).exports,i={components:{position:r.a,formView_banner:o},data:()=>({isEduit:0,isDetail:0,formdata1:{imgLabel1:"banner图:",imgModel1:"",imgUrl1:"",imgUrlKey1:"",label1:"banner链接:",model1:"",label2:"banner名称:",model2:"",label3:"排列优先级:",model3:"",label3Ph:"数字大的排列在前",state1:1}}),mounted(){let e=this;e.$route.params&&Object.keys(e.$route.params).length>0?(e.isEduit=1,e.formdata1.imgUrl1=e.$route.params.imgUrl,e.formdata1.imgUrlKey1=e.$route.params.imgKey,e.formdata1.model1=e.$route.params.imgUrl,e.formdata1.model2=e.$route.params.name,e.formdata1.model3=e.$route.params.seq,e.formdata1.state1=e.$route.params.status):e.isEduit=0},methods:{cancelEv_a(e){this.$router.push({path:"opeBanner"})},submit_a(e){let a=this,t=a.$api+"operation/banner/edit",r={};r.imgKey=e.imgUrlKey1,r.name=e.model2,r.seq=parseInt(e.model3),r.status=e.state1,1==a.isEduit?(r.bid=a.$route.params.bid,a.$axios.post(t,r).then(e=>{e.data&&0==e.data.code?(a.$message({message:e.data.msg,type:"success"}),a.$router.push({path:"opeBanner"})):this.$message({message:e.data.msg,type:"error"})})):a.$axios.post(t,r).then(e=>{e.data&&0==e.data.code?(a.$message({message:e.data.msg,type:"success"}),a.$router.push({path:"opeBanner"})):this.$message({message:e.data.result,type:"error"})})}}},m={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"vc uservc"},[a("position",{attrs:{title:"运营管理 > 添加banner"}}),this._v(" "),a("div",{staticClass:"ctt"},[a("formView_banner",{attrs:{formdata:this.formdata1},on:{cancelEv_a:this.cancelEv_a,submit_a:this.submit_a}})],1)],1)},staticRenderFns:[]};var d=t("C7Lr")(i,m,!1,function(e){t("VGv0")},"data-v-0ed9a8d6",null);a.default=d.exports},VGv0:function(e,a){},ikgF:function(e,a){}});